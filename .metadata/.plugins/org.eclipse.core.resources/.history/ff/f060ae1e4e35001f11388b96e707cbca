package com.mondospider.spiderlocationapi;

import java.io.IOException;

import javax.jdo.PersistenceManager;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@SuppressWarnings("serial")
public class ShowSpiderLocation extends HttpServlet {
	private static final String SECRET_KEY = "spiders_secret_key";

	public void doGet(HttpServletRequest req, HttpServletResponse resp)
			throws IOException {
		resp.setContentType("text/plain");

		PersistenceManager pm = PMF.get().getPersistenceManager();

		Location l = pm.getObjectById(Location.class, "spider");

		resp.setContentType("text/plain");
		resp
				.getWriter()
				.println(
						"<html><head><meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" />"
								+ "<script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=set_to_true_or_false\"></script>"
								+ "<script type=\"text/javascript\">"
								+ "	function initialize() {"
								+ "		var latlng = new google.maps.LatLng(-34.397, 150.644);"
								+ "		var myOptions = {"
								+ "		zoom: 8,"
								+ " 		center: latlng,"
								+ " 		mapTypeId: google.maps.MapTypeId.ROADMAP"
								+ "	};"
								+ "	var map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);"
								+ "</script>"
								+ "</head>"
								+ "<body onload=\"initialize()\"><div id=\"map_canvas\" style=\"width:100%; height:100%\"></div></body></html>");

	}
}
